const listMovie = [
    {
        id:1,
        cateGory: "Chương trình nấu ăn",
        movies:[     
            {   id: 1,
                img: "./img/anh54.jpg",
                img: "./accessaccess/img/anh54.jpg",
                name: "Nhà bếp địa ngục",
                description:"Giải trí - Nấu ăn - Ngôn ngữ",
            }, 
            {
                img: "./img/anh27.jpg",
                img: "./accessaccess/img/anh27.jpg",
                name: "Mission impossible 6: Fall out",
                description:"Hành động - Tự sát - Bom tấn",
            }, 
            {
                img: "./img/anh20.jpg",
                img: "./accessaccess/img/anh20.jpg",
                name: "Stranger things",
                description:"Giật gân - Kinh dị - Viễn tưởng",
            }, 
            {
                img: "./img/anh37.jpg",
                img: "./accessaccess/img/anh37.jpg",
                name: "Tàn sát",
                description:"Tự sát - Kinh dị - Giật gân",
            }, 
            {
                img: "./img/anh39.jpg",
                img: "./accessaccess/img/anh39.jpg",
                name: "The Innocents",
                description:"Tình dục - Giật gân - Tâm lý",
            }, 
            {
                img: "./accessaccess/img/anh16.jpg",
                name: "Vinh quang trong thù hận",
                description:"Giật gân - Cuộc sống - Chính kịch",
            }, 
            {
                img: "./img/anh15.jpg",
                img: "./accessaccess/img/anh15.jpg",
                name: "Wednesday",
                description:"Giật gân - Kinh dị - Viễn tưởng",
            }, 
            {
                img: "./img/anh41.jpg",
                img: "./accessaccess/img/anh41.jpg",
                name: "Emily in Paris",
                description:"Hài hước - Phiêu lưu - Lãng mạn",
            }, 
            {
                img: "./img/anh17.jpg",
                img: "./accessaccess/img/anh17.jpg",
                name: "Thư kí Kim sao thế ?",
                description:"Tình cảm - Lãng mạn - Hài hước",
            }, 
            {
                img: "./img/anh14.jpg",
                img: "./accessaccess/img/anh14.jpg",
                name: "Phi vụ triệu đô",
                description:"Bạo lực - Khỏa thân - Giật gân",
            }, 
        ]
    },
    {
        id:2,
        cateGory:"Chính kịch Hàn Quốc",
        movies:[
            {
                img: "./img/anh45.jpg",
                img: "./access/img/anh45.jpg",
                name: "Những chiến binh bất tử",
                description:"Bom tấn - Tự sát - Hành động",
            },
            {
                img: "./access/img/anh7.jpg",
                name: "Bóng ma anh quốc",
                description:"Bạo lực - Tình dục - Tự sát",
            },
            {
                img: "./img/anh23.jpg",
                img: "./access/img/anh23.jpg",
                name: "John wick 3: Chuẩn bị chiến tranh",
                description:"Giật gân - Tự sát - Hành động",
            },
            {
                img: "./img/anh24.jpg",
                img: "./access/img/anh24.jpg",
                name: "Mission impossible 3",
                description:"Hành động - Tự sát - Bom tấn",
            },
            {
                img: "./img/anh25.jpg",
                img: "./access/img/anh25.jpg",
                name: "Mission impossible 4: Ghost protocol",
                description:"Hành động - Tự sát - Bom tấn",
            },
            {
                img: "./img/anh22.jpg",
                img: "./access/img/anh22.jpg",
                name: "John wick 2",
                description:"Giật gân - Tự sát - Hành động",
            },
            {
                img: "./img/anh26.jpg",
                img: "./access/img/anh26.jpg",
                name: "Mission impossible 5: Rogue Nation",
                description:"Hành động - Tự sát - Bom tấn",
            },
            {
                img: "./img/anh27.jpg",
                img: "./access/img/anh27.jpg",
                name: "Mission impossible 6: Fall out",
                description:"Hành động - Tự sát - Bom tấn",
            },
            {
                img: "./img/anh28.jpg",
                img: "./access/img/anh28.jpg",
                name: "Twightlight 1",
                description:"Tình cảm - Lãng mạn - Kinh dị",
            },
            {
                img: "./img/anh30.jpg",
                img: "./access/img/anh30.jpg",
                name: "Twightlight 3: Eclipse",
                description:"Tình cảm - Lãng mạn - Kinh dị",
            }
        ]
    },
    {
        id:3,
        cateGory:"Tội phạm Âu - Mỹ",
        movies:[
            {
                img: "./img/anh45.jpg",
                img: "./access/img/anh45.jpg",
                name: "Những chiến binh bất tử",
                description:"Bom tấn - Tự sát - Hành động",
            },
            {
                img: "./img/anh7.jpg",
                img: "./access/img/anh7.jpg",
                name: "Bóng ma anh quốc",
                description:"Bạo lực - Tình dục - Tự sát",
            },
            {
                img: "./img/anh23.jpg",
                img: "./access/img/anh23.jpg",
                name: "John wick 3: Chuẩn bị chiến tranh",
                description:"Giật gân - Tự sát - Hành động",
            },
            {
                img: "./img/anh24.jpg",
                img: "./access/img/anh24.jpg",
                name: "Mission impossible 3",
                description:"Hành động - Tự sát - Bom tấn",
            },
            {
                img: "./img/anh25.jpg",
                img: "./access/img/anh25.jpg",
                name: "Mission impossible 4: Ghost protocol",
                description:"Hành động - Tự sát - Bom tấn",
            },
            {
                img: "./img/anh22.jpg",
                img: "./access/img/anh22.jpg",
                name: "John wick 2",
                description:"Giật gân - Tự sát - Hành động",
            },
            {
                img: "./img/anh26.jpg",
                img: "./access/img/anh26.jpg",
                name: "Mission impossible 5: Rogue Nation",
                description:"Hành động - Tự sát - Bom tấn",
            },
            {
                img: "./img/anh27.jpg",
                img: "./access/img/anh27.jpg",
                name: "Mission impossible 6: Fall out",
                description:"Hành động - Tự sát - Bom tấn",
            },
            {
                img: "./img/anh28.jpg",
                img: "./access/img/anh28.jpg",
                name: "Twightlight 1",
                description:"Tình cảm - Lãng mạn - Kinh dị",
            },
            {
                img: "./img/anh30.jpg",
                img: "./access/img/anh30.jpg",
                name: "Twightlight 3: Eclipse",
                description:"Tình cảm - Lãng mạn - Kinh dị",
            }
        ]
    },
    {
        id:4,
        cateGory:"Chương trình sinh tồn",
        movies:[
            {
                img: "./img/anh45.jpg",
                img: "./access/img/anh45.jpg",
                name: "Những chiến binh bất tử",
                description:"Bom tấn - Tự sát - Hành động",
            },
            {
                img: "./img/anh7.jpg",
                img: "./access/img/anh7.jpg",
                name: "Bóng ma anh quốc",
                description:"Bạo lực - Tình dục - Tự sát",
            },
            {
                img: "./img/anh23.jpg",
                img: "./access/img/anh23.jpg",
                name: "John wick 3: Chuẩn bị chiến tranh",
                description:"Giật gân - Tự sát - Hành động",
            },
            {
                img: "./img/anh24.jpg",
                img: "./access/img/anh24.jpg",
                name: "Mission impossible 3",
                description:"Hành động - Tự sát - Bom tấn",
            },
            {
                img: "./img/anh25.jpg",
                img: "./access/img/anh25.jpg",
                name: "Mission impossible 4: Ghost protocol",
                description:"Hành động - Tự sát - Bom tấn",
            },
            {
                img: "./img/anh22.jpg",
                img: "./access/img/anh22.jpg",
                name: "John wick 2",
                description:"Giật gân - Tự sát - Hành động",
            },
            {
                img: "./img/anh26.jpg",
                img: "./access/img/anh26.jpg",
                name: "Mission impossible 5: Rogue Nation",
                description:"Hành động - Tự sát - Bom tấn",
            },
            {
                img: "./img/anh27.jpg",
                img: "./access/img/anh27.jpg",
                name: "Mission impossible 6: Fall out",
                description:"Hành động - Tự sát - Bom tấn",
            },
            {
                img: "./img/anh28.jpg",
                img: "./access/img/anh28.jpg",
                name: "Twightlight 1",
                description:"Tình cảm - Lãng mạn - Kinh dị",
            },
            {
                img: "./img/anh30.jpg",
                img: "./access/img/anh30.jpg",
                name: "Twightlight 3: Eclipse",
                description:"Tình cảm - Lãng mạn - Kinh dị",
            }
        ]
    },
];

const section_first = document.getElementById("section_first");

const renderFlims = (listMovie) => {
    
    let stringHTML = "";

    for(let list of listMovie){

        stringHTML += `<div class="section_first section" id="section_first">
            <div class="content" id="content_first">
                <div class="title_first">${list.cateGory}</div>
                <div class="owl-wrapper">
                `
        for(let movie of list.movies){

            stringHTML += `
            <div class="owl-item">
                <img
                src=${movie.img}
                width="180px"
                height="100px"
                id="img"
                />
                <div class="small-item">
                <span class="material-symbols-outlined">play_circle</span>
                <span class="material-symbols-outlined" id="add_circle">add_circle</span>
                <span class="material-symbols-outlined" id="add_favorite" onclick="test(${list.id}, ${movie.id})">favorite</span>
                <p>${movie.name}</p>
                <p>${movie.description}</p>
                </div>
            </div>
        `
        }

        stringHTML +=`</div>
        </div>
    </div>`
        
    }
    section_first.innerHTML = stringHTML;
}

const test = (idCategory, idFlim) => {
    let listMovieFavourite = JSON.parse(localStorage.getItem('moviesFavourite'));
    if(!listMovieFavourite){
        listMovieFavourite = [];
    }
    for(let category of listMovie){
        if(category.id === idCategory){
            for(let movie of category.movies){
                if(movie.id === idFlim){
                    listMovieFavourite.push(movie);
                }
            }
        }
    }
    localStorage.setItem('moviesFavourite', JSON.stringify(listMovieFavourite))
}


document.getElementById('select_menu').onchange = () => {
    const selected = document.getElementById("select_menu").value;
    const listMovieFilter = listMovie.filter((category) => category.id == selected);

    renderFlims(listMovieFilter);
}


renderFlims(listMovie);